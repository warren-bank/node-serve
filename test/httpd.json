{
  "renderSingle":  false,
  "cleanUrls":     false,
  "trailingSlash": true,
  "etag":          true,
  "symlinks":      true,
  "logReq":        true,
  "logRes":        true,

  "headers": [{
    "source": "**",
    "headers": [
      {
        "key": "Access-Control-Allow-Origin",
        "value": "*"
      }, {
        "key": "Access-Control-Allow-Headers",
        "value": "Origin, X-Requested-With, Content-Type, Accept, Range"
      }
    ]
  }],

  "rewrites": [
    {
      "engine":        "regex",
      "source":        "^(.*?)(?:/IGNORE_IMPLICIT)+(.*)$",
      "destination":   "$1$2",
      "flags":         "",
      "terminal":      true
    },

    {
      "engine":        "route",
      "source":        ":parent*/(IGNORE_IMPLICIT)+/:pathname*",
      "destination":   ":parent?/:pathname?",
      "terminal":      true
    },

    {
      "engine":        "text",
      "source":        "/IGNORE_IMPLICIT/",
      "destination":   "/",
      "terminal":      true
    }
  ],

  "redirects": [
    {
      "engine":        "regex",
      "source":        "^(.*?)(?:/(?:IGNORE_IMPLICIT|IGNORE_EXPLICIT))*(/IGNORE_EXPLICIT)(?:/(?:IGNORE_IMPLICIT|IGNORE_EXPLICIT))*((?:/[^/]*)*)(/)(index\\.(?:html|php))$",
      "destination":   "$1$2$3$4?query=$5",
      "flags":         "",
      "decode":        false,
      "terminal":      false,
      "preserveQuery": false,
      "preserveHash":  false
    },
    {
      "engine":        "regex",
      "source":        "^(.*?)(?:/(?:IGNORE_IMPLICIT|IGNORE_EXPLICIT))*(?:/IGNORE_EXPLICIT)(?:/(?:IGNORE_IMPLICIT|IGNORE_EXPLICIT))*(.*)$",
      "destination":   "$1$2",
      "flags":         "",
      "decode":        false,
      "terminal":      true,
      "preserveQuery": true,
      "preserveHash":  true
    },

    {
      "engine":        "route",
      "source":        ":parent*/(IGNORE_IMPLICIT)*/(IGNORE_EXPLICIT)+/:dirname*/:basename(index\\.(?:html|php))",
      "destination":   ":parent?/IGNORE_EXPLICIT/:dirname?/\\?query=:basename",
      "decode":        false,
      "terminal":      false,
      "preserveQuery": false,
      "preserveHash":  false
    },
    {
      "engine":        "route",
      "source":        ":parent*/(IGNORE_IMPLICIT)*/(IGNORE_EXPLICIT)+/:pathname*",
      "destination":   ":parent?/:pathname?",
      "decode":        false,
      "terminal":      true,
      "preserveQuery": true,
      "preserveHash":  true
    },

    {
      "engine":        "glob",
      "source":        "/**/.gitkeep",
      "destination":   "/test.html",
      "decode":        false,
      "terminal":      true,
      "preserveQuery": false,
      "preserveHash":  false
    },

    {
      "engine":        "text",
      "source":        ".gitignore",
      "destination":   ".gitkeep",
      "decode":        false,
      "terminal":      false,
      "preserveQuery": false,
      "preserveHash":  false
    }
  ]
}
